"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[592],{6347:(T,v,r)=>{r.d(v,{e:()=>x});var e=r(520),u=r(4850),s=r(7221),c=r(8210),d=r(5e3),m=r(7261),C=r(5374),M=r(2290);let x=(()=>{class f{constructor(o,p,t,l){this._snackBar=o,this.http=p,this.storage=t,this.toastr=l,this.generateOTP=n=>{const i=c.G.uri+"/auth/otp/generate",a={headers:new e.WM({"Content-Type":"application/json"})},h=JSON.stringify(n);return this.http.post(i,h,a).pipe((0,u.U)(g=>g),(0,s.K)(this.handleError))},this.verifyOTP=n=>{const i=c.G.uri+"/auth/otp/verify",a={headers:new e.WM({"Content-Type":"application/json"})},h=JSON.stringify(n);return this.http.post(i,h,a).pipe((0,u.U)(g=>g),(0,s.K)(this.handleError))},this.register=n=>{const i=c.G.uri+"/auth/register",a={headers:new e.WM({"Content-Type":"application/json"})},h=JSON.stringify(n);return this.http.post(i,h,a).pipe((0,u.U)(g=>g),(0,s.K)(this.handleError))},this.login=n=>{const i=c.G.uri+"/auth/login",a={headers:new e.WM({"api-build-version":"1.1.96","Content-Type":"application/json"})},h=JSON.stringify(n);return this.http.post(i,h,a).pipe((0,u.U)(g=>g),(0,s.K)(this.handleError))},this.check=()=>{const n=c.G.uri+"/auth/check",_={headers:new e.WM({"Content-Type":"application/json",Authorization:this.getAuthToken()})};return this.http.get(n,_).pipe((0,u.U)(a=>a),(0,s.K)(this.handleError))},this.saveDevice=n=>{const i=c.G.uri+"/device/create",a={headers:new e.WM({"Content-Type":"application/json",Authorization:this.getAuthToken()})},h=JSON.stringify(n);return this.http.post(i,h,a).pipe((0,u.U)(g=>g),(0,s.K)(this.handleError))},this.getAuthToken=()=>`JWT ${this.storage.retrieve("tokens").accessToken}`,this.handleError=n=>{const i=n.error;switch(n.status){case 401:default:this.toastr.error(i.message);break;case 400:case 422:const _=i.data;for(let a in _)this.toastr.error(_[a].message)}}}}return f.\u0275fac=function(o){return new(o||f)(d.LFG(m.ux),d.LFG(e.eN),d.LFG(C.n2),d.LFG(M._W))},f.\u0275prov=d.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6885:(T,v,r)=>{r.d(v,{C:()=>E});var e=r(5e3),u=r(8069),s=r(3075),c=r(9808);function d(o,p){if(1&o&&(e.TgZ(0,"div",3)(1,"h5",4),e._uU(2),e.qZA(),e._UZ(3,"hr",5),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.field.label)}}function m(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",6),e._uU(2),e.qZA(),e.TgZ(3,"input",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.field.value=n)}),e.qZA(),e.TgZ(4,"div",8),e._uU(5," Please choose a username. "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.s9C("for",t.field.name),e.xp6(1),e.Oqu(t.field.label),e.xp6(1),e.s9C("type",t.field.fieldtype),e.s9C("id",t.field.name),e.MGl("placeholder","Enter ",t.field.label,""),e.Q6J("ngModel",t.field.value)}}function C(o,p){if(1&o&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&o){const t=p.$implicit;e.Q6J("value",t.key),e.xp6(1),e.Oqu(t.value)}}function M(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",6),e._uU(2),e.qZA(),e.TgZ(3,"select",9),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.field.value=n)})("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.triggerSelect(n))}),e.TgZ(4,"option",10),e._uU(5),e.qZA(),e.YNc(6,C,2,2,"option",11),e.qZA(),e.TgZ(7,"div",8),e._uU(8," Please choose a username. "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.s9C("for",t.field.name),e.xp6(1),e.Oqu(t.field.label),e.xp6(1),e.s9C("id",t.field.name),e.Q6J("ngModel",t.field.value),e.xp6(2),e.hij("Select ",t.field.label,""),e.xp6(1),e.Q6J("ngForOf",t.field.options)}}function x(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"input",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.field.value=n)}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.field.label),e.xp6(1),e.s9C("type",t.field.fieldtype),e.s9C("id",t.field.name),e.MGl("placeholder","Enter ",t.field.label,""),e.Q6J("ngModel",t.field.value)}}function f(o,p){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"input",13),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.field.value=n)})("change",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.handleFileInput(n,i.field))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.field.label),e.xp6(1),e.s9C("type",t.field.fieldtype),e.s9C("id",t.field.name),e.MGl("placeholder","Enter ",t.field.label,""),e.Q6J("ngModel",t.field.value)}}let E=(()=>{class o{constructor(t){this.fieldService=t,this.handleFileInput=(l,n)=>{const i=l.target.files[0];n.value=i,n.file=i},this.triggerSelect=l=>{const n=this.field;if(n.triggerSelect){this.form[n.triggerSelect].options=[];const i=this.form[n.triggerSelect];i.ajax.data.parentCode=n.value,this.fieldService.getSelectData(i).subscribe(_=>{this.form[n.triggerSelect].options=_.data.map(a=>({key:a[this.form[n.triggerSelect].ajax.option.key],value:a[this.form[n.triggerSelect].ajax.option.value]}))})}}}ngOnInit(){}ngAfterViewInit(){"select-ajax"===this.field.fieldtype&&this.fieldService.getSelectData(this.field).subscribe(t=>{console.log(this.field.ajax.option),this.field.options=t.data.map(l=>({key:l[this.field.ajax.option.key],value:l[this.field.ajax.option.value]})),console.log(t.data)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(u.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-field"]],inputs:{key:"key",form:"form",field:"field"},decls:6,vars:6,consts:[[3,"ngSwitch"],["class","form-group",4,"ngSwitchCase"],["class","form-group ",4,"ngSwitchCase"],[1,"form-group"],[1,"mt-1"],[1,"m-0"],[3,"for"],[1,"form-control",3,"type","id","placeholder","ngModel","ngModelChange"],["required","",1,"invalid-feedback"],[1,"form-control",3,"id","ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-control",3,"type","id","placeholder","ngModel","ngModelChange","change"]],template:function(t,l){1&t&&(e.TgZ(0,"div",0),e.YNc(1,d,4,1,"div",1),e.YNc(2,m,6,6,"div",2),e.YNc(3,M,9,6,"div",2),e.YNc(4,x,4,5,"div",1),e.YNc(5,f,4,5,"div",1),e.qZA()),2&t&&(e.Q6J("ngSwitch",l.field.fieldtype),e.xp6(1),e.Q6J("ngSwitchCase","header"),e.xp6(1),e.Q6J("ngSwitchCase","text"),e.xp6(1),e.Q6J("ngSwitchCase","select-ajax"),e.xp6(1),e.Q6J("ngSwitchCase","number"),e.xp6(1),e.Q6J("ngSwitchCase","file"))},dependencies:[s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,c.sg,c.RF,c.n9]}),o})()},1481:(T,v,r)=>{r.d(v,{V:()=>u});var e=r(5e3);let u=(()=>{class s{transform(d){return d?Object.keys(d).map(m=>({key:m,value:d[m]})):[]}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275pipe=e.Yjl({name:"keys",type:s,pure:!0}),s})()}}]);