"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[592],{6347:(P,l,r)=>{r.d(l,{e:()=>O});var i=r(520),c=r(4850),p=r(7221),u=r(8210),_=r(5e3),E=r(7261),g=r(5374);let O=(()=>{class h{constructor(d,T,f){this._snackBar=d,this.http=T,this.storage=f,this.generateOTP=t=>{const s=u.G.uri+"/auth/otp/generate",e={headers:new i.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,e).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.verifyOTP=t=>{const s=u.G.uri+"/auth/otp/verify",e={headers:new i.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,e).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.register=t=>{const s=u.G.uri+"/auth/register",e={headers:new i.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,e).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.login=t=>{const s=u.G.uri+"/auth/login",e={headers:new i.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,e).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.check=()=>{const t=u.G.uri+"/auth/check",o={headers:new i.WM({"Content-Type":"application/json",Authorization:this.getAuthToken()})};return this.http.get(t,o).pipe((0,c.U)(e=>e),(0,p.K)(this.handleError))},this.getAuthToken=()=>`JWT ${this.storage.retrieve("tokens").accessToken}`,this.handleError=t=>{const s=t.error;switch(t.status){case 401:default:this._snackBar.open(s.message,void 0,{duration:5e3});break;case 400:case 422:const o=s.data;for(let e in o)this._snackBar.open(o[e].message,void 0,{duration:5e3})}}}}return h.\u0275fac=function(d){return new(d||h)(_.LFG(E.ux),_.LFG(i.eN),_.LFG(g.n2))},h.\u0275prov=_.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);