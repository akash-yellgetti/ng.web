"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[592],{6347:(C,E,e)=>{e.d(E,{e:()=>M});var h=e(520),c=e(4850),p=e(7221),_=e(8210),u=e(5e3),l=e(7261),g=e(5374),O=e(2290);let M=(()=>{class i{constructor(d,P,v,D){this._snackBar=d,this.http=P,this.storage=v,this.toastr=D,this.generateOTP=t=>{const s=_.G.uri+"/auth/otp/generate",r={headers:new h.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,r).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.verifyOTP=t=>{const s=_.G.uri+"/auth/otp/verify",r={headers:new h.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,r).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.register=t=>{const s=_.G.uri+"/auth/register",r={headers:new h.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,r).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.login=t=>{const s=_.G.uri+"/auth/login",r={headers:new h.WM({"Content-Type":"application/json"})},n=JSON.stringify(t);return this.http.post(s,n,r).pipe((0,c.U)(a=>a),(0,p.K)(this.handleError))},this.check=()=>{const t=_.G.uri+"/auth/check",o={headers:new h.WM({"Content-Type":"application/json",Authorization:this.getAuthToken()})};return this.http.get(t,o).pipe((0,c.U)(r=>r),(0,p.K)(this.handleError))},this.getAuthToken=()=>`JWT ${this.storage.retrieve("tokens").accessToken}`,this.handleError=t=>{const s=t.error;switch(t.status){case 401:default:this.toastr.error(s.message);break;case 400:case 422:const o=s.data;for(let r in o)this.toastr.error(o[r].message)}}}}return i.\u0275fac=function(d){return new(d||i)(u.LFG(l.ux),u.LFG(h.eN),u.LFG(g.n2),u.LFG(O._W))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()}}]);