"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[116],{1116:(Z,p,o)=>{o.r(p),o.d(p,{AuthModule:()=>T});var f=o(6895),d=o(6630),e=o(4650),g=o(529),v=o(4850);let M=(()=>{class t{constructor(n){this.http=n,this.login=r=>{const h={headers:new g.WM({"Access-Control-Allow-Origin":"*","Content-Type":"application/json"})},s=JSON.stringify(r);return this.http.post("http://api.dicezen.com/auth/login",s,h).pipe((0,v.U)(u=>u))},this.handleError=(r,l)=>{}}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(g.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var A=o(5219),y=o(4859),m=o(3546),w=o(9549),L=o(4144),i=o(4006);const J=[{path:"login",component:(()=>{class t{constructor(n,r,l){this.authService=n,this.storageService=r,this.route=l,this.field={email:{label:"Email",name:"email",value:null},password:{label:"Passowrd",name:"password",value:null}},this.login=()=>{this.authService.login({email:this.field.email.value,password:this.field.password.value}).subscribe(s=>{if(s&&s.status){const u=s.data;this.storageService.store("tokens",u.tokens),this.storageService.store("user",u.user),this.route.navigate(["main"])}})}}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(M),e.Y36(A.n2),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"example-card"],[1,"example-form"],["cellspacing","0",1,"example-full-width"],[1,"example-full-width"],["matInput","","placeholder","Username","name","username","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Password","type","password","name","password","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"click"]],template:function(n,r){1&n&&(e.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Login"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"form",1)(6,"table",2)(7,"tr")(8,"td")(9,"mat-form-field",3)(10,"input",4),e.NdJ("ngModelChange",function(c){return r.field.email.value=c}),e.qZA()()()(),e.TgZ(11,"tr")(12,"td")(13,"mat-form-field",3)(14,"input",5),e.NdJ("ngModelChange",function(c){return r.field.password.value=c}),e.qZA()()()()()()(),e.TgZ(15,"mat-card-actions")(16,"button",6),e.NdJ("click",function(){return r.login()}),e._uU(17,"Login"),e.qZA()()()),2&n&&(e.xp6(10),e.Q6J("ngModel",r.field.email.value),e.xp6(4),e.Q6J("ngModel",r.field.password.value))},dependencies:[y.lW,m.a8,m.dk,m.dn,m.n5,m.hq,w.KE,L.Nt,i._Y,i.Fj,i.JJ,i.JL,i.Q7,i.On,i.F],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}"]}),t})()},{path:"registration",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registration"]],decls:2,vars:0,template:function(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1,"registration works!"),e.qZA())}}),t})()}];let O=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(J),d.Bz]}),t})();var S=o(4466);let T=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,S.m,O]}),t})()}}]);