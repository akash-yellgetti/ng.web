"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[494],{9494:(J,Z,i)=>{i.r(Z),i.d(Z,{MarketModule:()=>Y});var g=i(6895),m=i(6630),t=i(4650);let w=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-currency"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"currency works!"),t.qZA())}}),e})();var p=i(529),A=i(1737),u=i(4850),d=i(7221);let v=(()=>{class e{constructor(o){this.http=o}search(o){const n="https://www.moneycontrol.com/mccode/common/autosuggestion_solr.php?type=1&format=json&query="+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to search.")))}info(o){const n="https://priceapi.moneycontrol.com/pricefeed/nse/equitycash/"+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to fetch information.")))}getSymbolInfo(o){const n="https://priceapi.moneycontrol.com/techCharts/symbols?symbol="+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to fetch information.")))}vwapInfo(o){const n="https://www.moneycontrol.com/stocks/company_info/get_vwap_chart_data.php?sc_did="+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to fetch information.")))}symbolOptionExpiry(o){return"https://www.moneycontrol.com/stocks/fno/query_tool/get_expdate.php?symbol="+o+"&inst_type=OPTSTK"}symbolOptionStrickPrice(o,n,s){return"https://www.moneycontrol.com/stocks/company_info/get_strikeprices.php?sc_id="+o+"&exp_date="+n+"&instrument=OPTSTK&option_type="+s}optionUrl(o,n=15,s=new Date(Date.now()-864e5).getTime(),l=(new Date).getTime()){return"https://appfeeds.moneycontrol.com/jsonapi/fno/overview&format=json&inst_type=options&option_type=CE&id=NIFTY&ExpiryDate=2021-09-16"}intradayUrl(o,n=15,s=new Date(Date.now()-864e5).getTime(),l=(new Date).getTime()){return s=1662368921,console.log(Date.parse(s.toString())),l=(new Date).getTime(),console.log(s),"https://priceapi.moneycontrol.com/techCharts/indianMarket/stock/history?symbol="+o+"&resolution="+n+"&from="+s+"&to="+l}intraday(o,n=15,s=new Date(Date.now()-864e5).getTime(),l=(new Date).getTime()){const r=this.intradayUrl(o);console.log(r);const f={headers:new p.WM({})};return this.http.get(r,f).pipe((0,u.U)(c=>c),(0,d.K)(c=>this.handleError(c,"Failed to fetch information.")))}callOptions(o,n,s,l){const f={headers:new p.WM({})};return this.http.get("https://appfeeds.moneycontrol.com/jsonapi/fno/overview&format=json&inst_type=options&option_type=CE&id=NIFTY&ExpiryDate=2021-09-16",f).pipe((0,u.U)(c=>c),(0,d.K)(c=>this.handleError(c,"Failed to fetch information.")))}putOptions(o,n,s,l){const f={headers:new p.WM({})};return this.http.get("https://appfeeds.moneycontrol.com/jsonapi/fno/overview&format=json&inst_type=options&option_type=PE&id=NIFTY&ExpiryDate=2021-09-16",f).pipe((0,u.U)(c=>c),(0,d.K)(c=>this.handleError(c,"Failed to fetch information.")))}handleError(o,n){if(400===o.code)for(const s of o.error);return(0,A._)(o.error||"Server error")}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var T=i(3546),C=i(3848);let M=(()=>{class e{constructor(o,n){this.activatedRoute=o,this.moneyControl=n,this.data=null,this.data=this.activatedRoute.snapshot.data.stock.data}ngOnInit(){this.moneyControl.intraday("IOC").subscribe(o=>{console.log(o)}),console.log("Activated route data in Component:::"),console.log(this.data)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.gz),t.Y36(v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail"]],decls:67,vars:11,consts:[["mat-align-tabs","start"],["label","Overview",1,"d-flex"],[1,"example-card"],[1,"table"],["label","Chart"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"mat-card",2)(3,"mat-card-content")(4,"table",3)(5,"tbody")(6,"tr")(7,"td"),t._uU(8,"Open"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA()(),t.TgZ(11,"tr")(12,"td"),t._uU(13,"Preview Close"),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.qZA()(),t.TgZ(16,"tr")(17,"td"),t._uU(18,"Volume"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.qZA()(),t.TgZ(21,"tr")(22,"td"),t._uU(23," VWAP (Lacs) "),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.qZA()(),t.TgZ(26,"tr")(27,"td"),t._uU(28," Beta "),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.qZA()()()()()(),t.TgZ(31,"mat-card",2)(32,"mat-card-content")(33,"table",3)(34,"tbody")(35,"tr")(36,"td"),t._uU(37,"High"),t.qZA(),t.TgZ(38,"th"),t._uU(39),t.qZA()(),t.TgZ(40,"tr")(41,"td"),t._uU(42,"Low"),t.qZA(),t.TgZ(43,"th"),t._uU(44),t.qZA()(),t.TgZ(45,"tr")(46,"td"),t._uU(47,"Upper Circuit"),t.qZA(),t.TgZ(48,"th"),t._uU(49),t.qZA()(),t.TgZ(50,"tr")(51,"td"),t._uU(52,"Low Circuit"),t.qZA(),t.TgZ(53,"th"),t._uU(54),t.qZA()(),t.TgZ(55,"tr")(56,"td"),t._uU(57," 52 Week High"),t.qZA(),t.TgZ(58,"th"),t._uU(59),t.qZA()(),t.TgZ(60,"tr")(61,"td"),t._uU(62," 52 Week Low"),t.qZA(),t.TgZ(63,"th"),t._uU(64),t.qZA()()()()()()(),t.TgZ(65,"mat-tab",4),t._uU(66,"Content 2"),t.qZA()()),2&o&&(t.xp6(10),t.hij(" ",null==n.data?null:n.data.OPN," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.priceprevclose," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.VOL," "),t.xp6(5),t.hij(" ",n.data.AVGP," "),t.xp6(5),t.hij(" ",n.data["52L"]," "),t.xp6(9),t.hij(" ",null==n.data?null:n.data.HP," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.LP," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.upper_circuit_limit," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.lower_circuit_limit," "),t.xp6(5),t.hij(" ",n.data["52H"]," "),t.xp6(5),t.hij(" ",n.data["52L"]," "))},dependencies:[T.a8,T.dn,C.SP,C.uX],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}"]}),e})(),F=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-index"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"index works!"),t.qZA())}}),e})(),S=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-mutual-fund"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"mutual-fund works!"),t.qZA())}}),e})();var h=i(4006),O=i(1059),b=i(13),k=i(5778),j=i(7545),x=i(9549),D=i(4144),E=i(3238),U=i(7957);function I(e,a){if(1&e&&(t.TgZ(0,"mat-option",15),t._UZ(1,"div",16),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o.sc_id),t.xp6(1),t.Q6J("innerHTML",o.pdt_dis_nm,t.oJD)}}let q=(()=>{class e{constructor(o,n,s){this.router=o,this.activatedRoute=n,this.moneyControl=s,this.data={share:{},search:{text:new h.p4("")}},this.options=["One","Two","Three"],this.getOption=l=>{this.moneyControl.info(l).subscribe(r=>{this.data.share=r.data,this.router.navigateByUrl("/main/market/stock/"+r.data.symbol+"/detail")})}}ngOnInit(){this.filteredOptions=this.data.search.text.valueChanges.pipe((0,O.O)(""),(0,b.b)(400),(0,k.x)(),(0,j.w)(n=>this._filter(n||"")))}_filter(o){return this.moneyControl.search(o).pipe((0,u.U)(n=>n))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(v))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock"]],decls:21,vars:5,consts:[[1,"container-fluid"],[1,"row","align-items-center","p-2"],[1,"col-4"],[1,"form-control-layout"],[1,"col-8","d-flex","justify-content-end"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","Pick one","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[3,"value"],[3,"innerHTML"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),t._uU(5,"Stock"),t.qZA()()(),t.TgZ(6,"div",4)(7,"mat-form-field",5),t._UZ(8,"input",6),t.TgZ(9,"mat-autocomplete",7,8),t.NdJ("optionSelected",function(l){return n.getOption(l.option.value)}),t.YNc(11,I,2,2,"mat-option",9),t.ALo(12,"async"),t.qZA()()()(),t.TgZ(13,"nav",10)(14,"ol",11)(15,"li",12)(16,"a",13),t._uU(17,"Home"),t.qZA()(),t.TgZ(18,"li",14),t._uU(19,"Library"),t.qZA()()(),t._UZ(20,"router-outlet"),t.qZA()),2&o){const s=t.MAs(10);t.xp6(8),t.Q6J("formControl",n.data.search.text)("matAutocomplete",s),t.xp6(3),t.Q6J("ngForOf",t.lcZ(12,3,n.filteredOptions))}},dependencies:[g.sg,x.KE,D.Nt,E.ey,h.Fj,h.JJ,h.oH,U.XC,U.ZL,m.lC,g.Ov]}),e})();var L=i(1086);const P=[{path:"index",component:F},{path:"stock",component:q,children:[{path:":id/detail",component:M,resolve:{stock:(()=>{class e{constructor(o){this.moneyControl=o}resolve(o){return this.moneyControl.info(o.params.id).pipe((0,d.K)(n=>(0,L.of)("No data")))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(v))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]},{path:"currency",component:w},{path:"mutual-fund",component:S}];let K=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(P),m.Bz]}),e})();var W=i(6120);let Y=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,W.q,h.u5,K]}),e})()}}]);