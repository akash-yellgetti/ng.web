"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[592],{6347:(E,h,a)=>{a.d(h,{e:()=>v});var d=a(520),_=a(4850),e=a(7221),c=a(8210),r=a(5e3),p=a(7261),f=a(5374),m=a(2290);let v=(()=>{class u{constructor(g,x,M,T){this._snackBar=g,this.http=x,this.storage=M,this.toastr=T,this.generateOTP=n=>{const s=c.G.uri+"/auth/otp/generate",l={headers:new d.WM({"Content-Type":"application/json"})},i=JSON.stringify(n);return this.http.post(s,i,l).pipe((0,_.U)(o=>o),(0,e.K)(this.handleError))},this.verifyOTP=n=>{const s=c.G.uri+"/auth/otp/verify",l={headers:new d.WM({"Content-Type":"application/json"})},i=JSON.stringify(n);return this.http.post(s,i,l).pipe((0,_.U)(o=>o),(0,e.K)(this.handleError))},this.register=n=>{const s=c.G.uri+"/auth/register",l={headers:new d.WM({"Content-Type":"application/json"})},i=JSON.stringify(n);return this.http.post(s,i,l).pipe((0,_.U)(o=>o),(0,e.K)(this.handleError))},this.login=n=>{const s=c.G.uri+"/auth/login",l={headers:new d.WM({"api-build-version":"1.1.96","Content-Type":"application/json"})},i=JSON.stringify(n);return this.http.post(s,i,l).pipe((0,_.U)(o=>o),(0,e.K)(this.handleError))},this.check=()=>{const n=c.G.uri+"/auth/check",t={headers:new d.WM({"Content-Type":"application/json",Authorization:this.getAuthToken()})};return this.http.get(n,t).pipe((0,_.U)(l=>l),(0,e.K)(this.handleError))},this.saveDevice=n=>{const s=c.G.uri+"/device/create",l={headers:new d.WM({"Content-Type":"application/json",Authorization:this.getAuthToken()})},i=JSON.stringify(n);return this.http.post(s,i,l).pipe((0,_.U)(o=>o),(0,e.K)(this.handleError))},this.getAuthToken=()=>`JWT ${this.storage.retrieve("tokens").accessToken}`,this.handleError=n=>{const s=n.error;switch(n.status){case 401:default:this.toastr.error(s.message);break;case 400:case 422:const t=s.data;for(let l in t)this.toastr.error(t[l].message)}}}}return u.\u0275fac=function(g){return new(g||u)(r.LFG(p.ux),r.LFG(d.eN),r.LFG(f.n2),r.LFG(m._W))},u.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6885:(E,h,a)=>{a.d(h,{C:()=>T});var d=a(7489),e=a(5e3),c=a(8069),r=a(3075),p=a(9808);function f(n,s){if(1&n&&(e.TgZ(0,"div",3)(1,"h5",4),e._uU(2),e.qZA(),e._UZ(3,"hr",5),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.field.label)}}function m(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",6),e._uU(2),e.qZA(),e.TgZ(3,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.field.value=i)}),e.qZA(),e.TgZ(4,"div",8),e._uU(5," Please choose a username. "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("for",t.field.name),e.xp6(1),e.Oqu(t.field.label),e.xp6(1),e.s9C("type",t.field.fieldtype),e.s9C("id",t.field.name),e.MGl("placeholder","Enter ",t.field.label,""),e.Q6J("ngModel",t.field.value)}}function v(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.key),e.xp6(1),e.Oqu(t.value)}}function u(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",6),e._uU(2),e.qZA(),e.TgZ(3,"select",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.field.value=i)})("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerSelect(i))}),e.TgZ(4,"option",10),e._uU(5),e.qZA(),e.YNc(6,v,2,2,"option",11),e.qZA(),e.TgZ(7,"div",8),e._uU(8," Please choose a username. "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("for",t.field.name),e.xp6(1),e.Oqu(t.field.label),e.xp6(1),e.s9C("id",t.field.name),e.Q6J("ngModel",t.field.value),e.xp6(2),e.hij("Select ",t.field.label,""),e.xp6(1),e.Q6J("ngForOf",t.field.options)}}function C(n,s){if(1&n&&(e.TgZ(0,"option",12),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.key),e.xp6(1),e.Oqu(t.value)}}function g(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",6),e._uU(2),e.qZA(),e.TgZ(3,"select",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.field.value=i)})("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.triggerSelect(i))}),e.TgZ(4,"option",10),e._uU(5),e.qZA(),e.YNc(6,C,2,2,"option",11),e.qZA(),e.TgZ(7,"div",8),e._uU(8," Please choose a username. "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("for",t.field.name),e.xp6(1),e.Oqu(t.field.label),e.xp6(1),e.s9C("id",t.field.name),e.Q6J("ngModel",t.field.value),e.xp6(2),e.hij("Select ",t.field.label,""),e.xp6(1),e.Q6J("ngForOf",t.field.options)}}function x(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"input",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.field.value=i)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.field.label),e.xp6(1),e.s9C("type",t.field.fieldtype),e.s9C("id",t.field.name),e.MGl("placeholder","Enter ",t.field.label,""),e.Q6J("ngModel",t.field.value)}}function M(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"label"),e._uU(2),e.qZA(),e.TgZ(3,"input",13),e.NdJ("change",function(i){e.CHM(t);const o=e.oxw();return e.KtG(o.handleFileInput(i,o.field))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.field.label),e.xp6(1),e.s9C("type",t.field.fieldtype),e.s9C("id",t.field.name),e.MGl("placeholder","Enter ",t.field.label,"")}}let T=(()=>{class n{constructor(t){this.fieldService=t,this.handleFileInput=(l,i)=>{const o=l.target.files;console.log(o),i.value=d.first(o)},this.triggerSelect=l=>{const i=this.field;if(i.triggerSelect){this.form[i.triggerSelect].options=[];const o=this.form[i.triggerSelect];o.ajax.data.parentCode=i.value,this.fieldService.getSelectData(o).subscribe(A=>{this.form[i.triggerSelect].options=A.data.map(O=>({key:O[this.form[i.triggerSelect].ajax.option.key],value:O[this.form[i.triggerSelect].ajax.option.value]}))})}}}ngOnInit(){}ngAfterViewInit(){"select-ajax"===this.field.fieldtype&&this.fieldService.getSelectData(this.field).subscribe(t=>{console.log(this.field.ajax.option),this.field.options=t.data.map(l=>({key:l[this.field.ajax.option.key],value:l[this.field.ajax.option.value]})),console.log(t.data)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-field"]],inputs:{key:"key",form:"form",field:"field"},decls:7,vars:7,consts:[[3,"ngSwitch"],["class","form-group",4,"ngSwitchCase"],["class","form-group ",4,"ngSwitchCase"],[1,"form-group"],[1,"mt-1"],[1,"m-0"],[3,"for"],[1,"form-control",3,"type","id","placeholder","ngModel","ngModelChange"],["required","",1,"invalid-feedback"],[1,"form-control",3,"id","ngModel","ngModelChange"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["multiple","field?.multiple",1,"form-control",3,"type","id","placeholder","change"]],template:function(t,l){1&t&&(e.TgZ(0,"div",0),e.YNc(1,f,4,1,"div",1),e.YNc(2,m,6,6,"div",2),e.YNc(3,u,9,6,"div",2),e.YNc(4,g,9,6,"div",2),e.YNc(5,x,4,5,"div",1),e.YNc(6,M,4,4,"div",1),e.qZA()),2&t&&(e.Q6J("ngSwitch",l.field.fieldtype),e.xp6(1),e.Q6J("ngSwitchCase","header"),e.xp6(1),e.Q6J("ngSwitchCase","text"),e.xp6(1),e.Q6J("ngSwitchCase","select"),e.xp6(1),e.Q6J("ngSwitchCase","select-ajax"),e.xp6(1),e.Q6J("ngSwitchCase","number"),e.xp6(1),e.Q6J("ngSwitchCase","file"))},dependencies:[r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On,p.sg,p.RF,p.n9]}),n})()},1481:(E,h,a)=>{a.d(h,{V:()=>_});var d=a(5e3);let _=(()=>{class e{transform(r){return r?Object.keys(r).map(p=>({key:p,value:r[p]})):[]}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=d.Yjl({name:"keys",type:e,pure:!0}),e})()}}]);