"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[467],{2467:(Y,T,i)=>{i.r(T),i.d(T,{MarketModule:()=>W});var f=i(8583),m=i(4655),t=i(7716);let U=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-currency"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"currency works!"),t.qZA())},styles:[""]}),e})();var p=i(1841),w=i(205),u=i(8002),d=i(5304);let y=(()=>{class e{constructor(o){this.http=o}search(o){const n="https://www.moneycontrol.com/mccode/common/autosuggestion_solr.php?type=1&format=json&query="+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to search.")))}info(o){const n="https://priceapi.moneycontrol.com/pricefeed/nse/equitycash/"+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to fetch information.")))}getSymbolInfo(o){const n="https://priceapi.moneycontrol.com/techCharts/symbols?symbol="+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to fetch information.")))}vwapInfo(o){const n="https://www.moneycontrol.com/stocks/company_info/get_vwap_chart_data.php?sc_did="+o,l={headers:new p.WM({})};return this.http.get(n,l).pipe((0,u.U)(r=>r),(0,d.K)(r=>this.handleError(r,"Failed to fetch information.")))}symbolOptionExpiry(o){return"https://www.moneycontrol.com/stocks/fno/query_tool/get_expdate.php?symbol="+o+"&inst_type=OPTSTK"}symbolOptionStrickPrice(o,n,s){return"https://www.moneycontrol.com/stocks/company_info/get_strikeprices.php?sc_id="+o+"&exp_date="+n+"&instrument=OPTSTK&option_type="+s}optionUrl(o,n=15,s=new Date(Date.now()-864e5).getTime(),l=(new Date).getTime()){return"https://appfeeds.moneycontrol.com/jsonapi/fno/overview&format=json&inst_type=options&option_type=CE&id=NIFTY&ExpiryDate=2021-09-16"}intradayUrl(o,n=15,s=new Date(Date.now()-864e5).getTime(),l=(new Date).getTime()){return s=1662368921,console.log(Date.parse(s.toString())),l=(new Date).getTime(),console.log(s),"https://priceapi.moneycontrol.com/techCharts/indianMarket/stock/history?symbol="+o+"&resolution="+n+"&from="+s+"&to="+l}intraday(o,n=15,s=new Date(Date.now()-864e5).getTime(),l=(new Date).getTime()){const r=this.intradayUrl(o);console.log(r);const Z={headers:new p.WM({})};return this.http.get(r,Z).pipe((0,u.U)(c=>c),(0,d.K)(c=>this.handleError(c,"Failed to fetch information.")))}callOptions(o,n,s,l){const Z={headers:new p.WM({})};return this.http.get("https://appfeeds.moneycontrol.com/jsonapi/fno/overview&format=json&inst_type=options&option_type=CE&id=NIFTY&ExpiryDate=2021-09-16",Z).pipe((0,u.U)(c=>c),(0,d.K)(c=>this.handleError(c,"Failed to fetch information.")))}putOptions(o,n,s,l){const Z={headers:new p.WM({})};return this.http.get("https://appfeeds.moneycontrol.com/jsonapi/fno/overview&format=json&inst_type=options&option_type=PE&id=NIFTY&ExpiryDate=2021-09-16",Z).pipe((0,u.U)(c=>c),(0,d.K)(c=>this.handleError(c,"Failed to fetch information.")))}handleError(o,n){if(400===o.code)for(const s of o.error);return(0,w._)(o.error||"Server error")}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(p.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var v=i(5939),A=i(3738);let q=(()=>{class e{constructor(o,n){this.activatedRoute=o,this.moneyControl=n,this.data=null,this.data=this.activatedRoute.snapshot.data.stock.data}ngOnInit(){this.moneyControl.intraday("IOC").subscribe(o=>{console.log(o)}),console.log("Activated route data in Component:::"),console.log(this.data)}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.gz),t.Y36(y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail"]],decls:67,vars:11,consts:[["mat-align-tabs","start"],["label","Overview",1,"d-flex"],[1,"example-card"],[1,"table"],["label","Chart"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-tab-group",0),t.TgZ(1,"mat-tab",1),t.TgZ(2,"mat-card",2),t.TgZ(3,"mat-card-content"),t.TgZ(4,"table",3),t.TgZ(5,"tbody"),t.TgZ(6,"tr"),t.TgZ(7,"td"),t._uU(8,"Open"),t.qZA(),t.TgZ(9,"th"),t._uU(10),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"td"),t._uU(13,"Preview Close"),t.qZA(),t.TgZ(14,"th"),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"tr"),t.TgZ(17,"td"),t._uU(18,"Volume"),t.qZA(),t.TgZ(19,"th"),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"tr"),t.TgZ(22,"td"),t._uU(23," VWAP (Lacs) "),t.qZA(),t.TgZ(24,"th"),t._uU(25),t.qZA(),t.qZA(),t.TgZ(26,"tr"),t.TgZ(27,"td"),t._uU(28," Beta "),t.qZA(),t.TgZ(29,"th"),t._uU(30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"mat-card",2),t.TgZ(32,"mat-card-content"),t.TgZ(33,"table",3),t.TgZ(34,"tbody"),t.TgZ(35,"tr"),t.TgZ(36,"td"),t._uU(37,"High"),t.qZA(),t.TgZ(38,"th"),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"tr"),t.TgZ(41,"td"),t._uU(42,"Low"),t.qZA(),t.TgZ(43,"th"),t._uU(44),t.qZA(),t.qZA(),t.TgZ(45,"tr"),t.TgZ(46,"td"),t._uU(47,"Upper Circuit"),t.qZA(),t.TgZ(48,"th"),t._uU(49),t.qZA(),t.qZA(),t.TgZ(50,"tr"),t.TgZ(51,"td"),t._uU(52,"Low Circuit"),t.qZA(),t.TgZ(53,"th"),t._uU(54),t.qZA(),t.qZA(),t.TgZ(55,"tr"),t.TgZ(56,"td"),t._uU(57," 52 Week High"),t.qZA(),t.TgZ(58,"th"),t._uU(59),t.qZA(),t.qZA(),t.TgZ(60,"tr"),t.TgZ(61,"td"),t._uU(62," 52 Week Low"),t.qZA(),t.TgZ(63,"th"),t._uU(64),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(65,"mat-tab",4),t._uU(66,"Content 2"),t.qZA(),t.qZA()),2&o&&(t.xp6(10),t.hij(" ",null==n.data?null:n.data.OPN," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.priceprevclose," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.VOL," "),t.xp6(5),t.hij(" ",n.data.AVGP," "),t.xp6(5),t.hij(" ",n.data["52L"]," "),t.xp6(9),t.hij(" ",null==n.data?null:n.data.HP," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.LP," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.upper_circuit_limit," "),t.xp6(5),t.hij(" ",null==n.data?null:n.data.lower_circuit_limit," "),t.xp6(5),t.hij(" ",n.data["52H"]," "),t.xp6(5),t.hij(" ",n.data["52L"]," "))},directives:[v.SP,v.uX,A.a8,A.dn],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px}"]}),e})(),M=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-index"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"index works!"),t.qZA())},styles:[""]}),e})(),F=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-mutual-fund"]],decls:2,vars:0,template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"mutual-fund works!"),t.qZA())},styles:[""]}),e})();var h=i(3679),S=i(9761),O=i(4395),b=i(7519),k=i(3190),j=i(8295),x=i(9983),C=i(1554),D=i(2458);function I(e,a){if(1&e&&(t.TgZ(0,"mat-option",15),t._UZ(1,"div",16),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o.sc_id),t.xp6(1),t.Q6J("innerHTML",o.pdt_dis_nm,t.oJD)}}let E=(()=>{class e{constructor(o,n,s){this.router=o,this.activatedRoute=n,this.moneyControl=s,this.data={share:{},search:{text:new h.NI("")}},this.options=["One","Two","Three"],this.getOption=l=>{this.moneyControl.info(l).subscribe(r=>{this.data.share=r.data,this.router.navigateByUrl("/main/market/stock/"+r.data.symbol+"/detail")})}}ngOnInit(){this.filteredOptions=this.data.search.text.valueChanges.pipe((0,S.O)(""),(0,O.b)(400),(0,b.x)(),(0,k.w)(n=>this._filter(n||"")))}_filter(o){return this.moneyControl.search(o).pipe((0,u.U)(n=>n))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(m.F0),t.Y36(m.gz),t.Y36(y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stock"]],decls:21,vars:5,consts:[[1,"container-fluid"],[1,"row","align-items-center","p-2"],[1,"col-4"],[1,"form-control-layout"],[1,"col-8","d-flex","justify-content-end"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","Pick one","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[3,"value"],[3,"innerHTML"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2"),t._uU(5,"Stock"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"mat-form-field",5),t._UZ(8,"input",6),t.TgZ(9,"mat-autocomplete",7,8),t.NdJ("optionSelected",function(l){return n.getOption(l.option.value)}),t.YNc(11,I,2,2,"mat-option",9),t.ALo(12,"async"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"nav",10),t.TgZ(14,"ol",11),t.TgZ(15,"li",12),t.TgZ(16,"a",13),t._uU(17,"Home"),t.qZA(),t.qZA(),t.TgZ(18,"li",14),t._uU(19,"Library"),t.qZA(),t.qZA(),t.qZA(),t._UZ(20,"router-outlet"),t.qZA()),2&o){const s=t.MAs(10);t.xp6(8),t.Q6J("formControl",n.data.search.text)("matAutocomplete",s),t.xp6(3),t.Q6J("ngForOf",t.lcZ(12,3,n.filteredOptions))}},directives:[j.KE,x.Nt,h.Fj,C.ZL,h.JJ,h.oH,C.XC,f.sg,m.lC,D.ey],pipes:[f.Ov],styles:[""]}),e})();var L=i(5917);const P=[{path:"index",component:M},{path:"stock",component:E,children:[{path:":id/detail",component:q,resolve:{stock:(()=>{class e{constructor(o){this.moneyControl=o}resolve(o){return this.moneyControl.info(o.params.id).pipe((0,d.K)(n=>(0,L.of)("No data")))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]},{path:"currency",component:U},{path:"mutual-fund",component:F}];let K=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.Bz.forChild(P)],m.Bz]}),e})();var N=i(3868);let W=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[f.ez,N.q,h.u5,K]]}),e})()}}]);