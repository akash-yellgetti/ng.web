"use strict";(self.webpackChunkngweb=self.webpackChunkngweb||[]).push([[592],{6347:(m,D,e)=>{e.d(D,{e:()=>i});var l=e(520),r=e(4850),O=e(7221),_=e(8210),E=e(5e3),M=e(7261),P=e(5374),c=e(2290);let i=(()=>{class o{constructor(n,u,g,f){this._snackBar=n,this.http=u,this.storage=g,this.toastr=f,this.generateOTP=a=>{const s=_.G.uri+"/auth/otp/generate",h={headers:new l.WM({"Content-Type":"application/json"})},d=JSON.stringify(a);return this.http.post(s,d,h).pipe((0,r.U)(v=>v),(0,O.K)(this.handleError))},this.verifyOTP=a=>{const s=_.G.uri+"/auth/otp/verify",h={headers:new l.WM({"Content-Type":"application/json"})},d=JSON.stringify(a);return this.http.post(s,d,h).pipe((0,r.U)(v=>v),(0,O.K)(this.handleError))},this.register=a=>{const s=_.G.uri+"/auth/register",h={headers:new l.WM({"Content-Type":"application/json"})},d=JSON.stringify(a);return this.http.post(s,d,h).pipe((0,r.U)(v=>v),(0,O.K)(this.handleError))},this.login=a=>{const s=_.G.uri+"/auth/login",h={headers:new l.WM({"Content-Type":"application/json"})},d=JSON.stringify(a);return this.http.post(s,d,h).pipe((0,r.U)(v=>v),(0,O.K)(this.handleError))},this.check=()=>{const a=_.G.uri+"/auth/check",p={headers:new l.WM({"Content-Type":"application/json",Authorization:this.getAuthToken()})};return this.http.get(a,p).pipe((0,r.U)(h=>h),(0,O.K)(this.handleError))},this.getAuthToken=()=>`JWT ${this.storage.retrieve("tokens").accessToken}`,this.handleError=a=>{const s=a.error;switch(a.status){case 401:default:this.toastr.error(s.message);break;case 400:case 422:const p=s.data;for(let h in p)this.toastr.error(p[h].message)}}}}return o.\u0275fac=function(n){return new(n||o)(E.LFG(M.ux),E.LFG(l.eN),E.LFG(P.n2),E.LFG(c._W))},o.\u0275prov=E.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},4942:(m,D,e)=>{e.d(D,{D:()=>M});var l=e(3075),r=e(7489),_=e(5e3),E=e(7261);let M=(()=>{class c{constructor(o){this._snackBar=o,this.getFormGroupFields=t=>r.cloneDeep(r.chain(t).reduce((n,u,g)=>{const f=u&&u.validations?u.validations.split("|"):[],a=r.chain(f).map(s=>this.getValidator(s)).value();return n[u.name]=[null,a],n},{}).value()),this.getValidator=t=>{switch(t){case"required":return l.kI.required;case"email":return l.kI.email;default:return null}},this.getValidatorMessage=t=>{switch(t){case"required":return;case"email":return l.kI.email;default:return null}},this.validate=(t,n)=>r.reject(r.flatten(r.values(r.mapValues(t,"errors"))),r.isEmpty),this.displayErrors=t=>{for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&this._snackBar.open("Cannonball!!","Splash")},this.json=t=>r.chain(t).reduce((n,u,g)=>(n[g]=u.value,n),{}).value()}}return c.\u0275fac=function(o){return new(o||c)(_.LFG(E.ux))},c.\u0275prov=_.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()}}]);